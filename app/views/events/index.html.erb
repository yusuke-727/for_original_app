<div class="container">
  <h1><%= t('views.events.index.title') %></h1>

   <%= form_with url: events_path, method: :get, scope: :search, local: true do %>
    <div class="form-row">
      <div class="form-group col-md-4">
        <%= label_tag :title, t('views.events.index.search.title') %>
        <%= text_field_tag 'search[title]', params.dig(:search, :title), class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <%= submit_tag t('views.events.index.search.submit'), id: 'search_event', class: "btn btn-outline-success" %>
    </div>
<% end %>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th><%= t('views.events.index.table_headers.title') %></th>
      <th><%= t('views.events.index.table_headers.content') %></th>
      <th><%= t('views.events.index.table_headers.scheduled_date') %></th>
      <th><%= t('views.events.index.table_headers.created_at') %></th>
      <th colspan="4"></th>
    </tr>
  </thead>

  <tbody>
    <% @events.each do |event| %>
      <tr class="event_row">
        <td><%= event.title %></td>
        <td><%= event.content %></td>
        <td><%= event.scheduled_date.strftime("%Y/%m/%d %H:%M") %></td>
        <td><%= event.created_at.strftime("%Y/%m/%d %H:%M") %></td>
        <td><%= link_to t('views.events.index.actions.show'), event_path(event), class: 'show-event' %></td>
        <td><%= link_to t('views.events.index.actions.edit'), edit_event_path(event), class: 'edit-event' %></td>
        <td><%= link_to t('views.events.index.actions.destroy'), event_path(event), method: :delete, data: { confirm: 'Are you sure?' }, class: 'destroy-event' %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= paginate @events %>
</div>